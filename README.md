## tsnp-specification

This specification defines the *totally safe network protocol (tnsp)* and describes its structure.

## Design

tsnp is a [client-server](https://en.wikipedia.org/wiki/Client%E2%80%93server_model) network protocol built on top of [TCP](https://de.wikipedia.org/wiki/Transmission_Control_Protocol). Its interface consists of 2 parts: *requests* and *responses*.

### Request

```
 0                   1                   2                   3  
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
*---------------------------------------------------------------*
|            Agent ID           |           Request ID          |
*---------------------------------------------------------------*
|                         Operation Code                        |
*---------------------------------------------------------------*
|                         Number of Args                        |
*---------------------------------------------------------------*
|                         Size of Arg 1                         |
*---------------------------------------------------------------*
|                              ...                              |
*---------------------------------------------------------------*
|                         Size of Arg n                         |
*---------------------------------------------------------------*
|                             Arg 1                             |
*---------------------------------------------------------------*
|                              ...                              |
*---------------------------------------------------------------*
|                             Arg n                             |
*---------------------------------------------------------------*
```

### Response

```
 0                   1                   2                   3  
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
*---------------------------------------------------------------*
|            Agent ID           |           Request ID          |
*---------------------------------------------------------------*
|                          Status Code                          |
*---------------------------------------------------------------*
|                           Data Count                          |
*---------------------------------------------------------------*
|                         Size of Data 1                        |
*---------------------------------------------------------------*
|                              ...                              |
*---------------------------------------------------------------*
|                         Size of Data n                        |
*---------------------------------------------------------------*
|                         Type of Data 1                        |
*---------------------------------------------------------------*
|                              ...                              |
*---------------------------------------------------------------*
|                         Type of Data n                        |
*---------------------------------------------------------------*
|                             Data 1                            |
*---------------------------------------------------------------*
|                              ...                              |
*---------------------------------------------------------------*
|                             Data n                            |
*---------------------------------------------------------------*
```

## TODO

- define and document valid values for `Operation Code` and `Status Code`
